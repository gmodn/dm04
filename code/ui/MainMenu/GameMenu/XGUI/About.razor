@using Sandbox;
@using Sandbox.UI;
@using XGUI;
@attribute [StyleSheet("/ui/MainMenu/GameMenu/XGUI/DefaultStyles/OliveGreen.scss")]
@inherits Window

<root title="About" hasminimise="false" hasmaximise="false">
		<div style="width:1000px;height:800px;">
			<WebPanel style="width: 100%; height: 800px;" @ref="WebPanel"></WebPanel>
		</div>
</root>

@code
{
    public string Url
    {
        get { return WebPanel?.Surface?.Url ?? ""; }
        set { if (WebPanel?.Surface?.Url != null) WebPanel.Surface.Url = value; }
    }

    public WebPanel WebPanel { get; set; }

    protected override void OnAfterTreeRender(bool firstTime)
    {
        base.OnAfterTreeRender(firstTime);

        if (firstTime)
        {
            WebPanel.Surface.Url = "https://www.gmodn.com/hldm-info";
        }
    }

    protected override int BuildHash()
    {
        // this will force a rebuild every time the date time string changes
        return HashCode.Combine(DateTime.Now.ToString());
    }
}

